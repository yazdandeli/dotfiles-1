{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"path\"","webpack:///./node_modules/vscode-nls/lib/common/ral.js","webpack:///./node_modules/vscode-nls/lib/common/common.js","webpack:///./src/extension.ts","webpack:///external \"vscode\"","webpack:///./node_modules/vscode-nls/lib/node/main.js","webpack:///external \"fs\""],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","_ral","RAL","undefined","Error","install","ral","default","config","loadMessageBundle","localize","format","setPseudo","isPseudo","isDefined","BundleFormat","MessageFormat","LocalizeInfo","ral_1","message","args","replace","length","match","rest","index","arg","replacement","String","is","candidate","comment","pseudo","_key","_i","arguments","file","opts","path","fs","common_1","common_2","resolvedBundles","options","toString","isNumber","isString","readJsonFileSync","filename","JSON","parse","readFileSync","createScopedLocalizeFunction","messages","console","error","stack","warn","cacheBundle","bundle","loadNlsBundleOrCreateFromI18n","header","bundlePath","result","join","cacheRoot","id","hash","useMemoryOnly","writeBundle","encoding","flag","Date","utimes","err","code","SyntaxError","log","unlink","metaDataPath","languagePackLocation","translationsConfig","languagePack","contents","metaData","module_2","entry","translations","outDir","resultMessages","keys","messageKey","translatedMessage","push","createNLSBundle","writeFileSync","stringify","loadDefaultNlsBundle","folder","module_1","createDefaultNlsBundle","loadNlsBundle","languagePackSupport","languagePackId","translationsConfigFile","root","language","existsSync","lastIndexOf","substring","findInTheBoxBundle","ext","extname","substr","messageFormat","both","headerFile","dirname","parent","tryFindMetaDataHeaderFile","nlsBundle","module_3","json","resolvedLanguage","cacheLanguageResolution","locale","resolveLanguage","Array","isArray","toLowerCase","bundleFormat","standalone","process","env","VSCODE_NLS_CONFIG","vscodeOptions_1","availableLanguages","isBoolean","_languagePackSupport","_cacheRoot","_languagePackId","_translationsConfigFile","_corruptedFile","exists","writeFile","_a","initializeSettings","freeze"],"mappings":"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","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = require(\"path\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(\"No runtime abstraction layer installed\");\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(\"No runtime abstraction layer provided\");\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.config = exports.loadMessageBundle = exports.localize = exports.format = exports.setPseudo = exports.isPseudo = exports.isDefined = exports.BundleFormat = exports.MessageFormat = void 0;\nvar ral_1 = require(\"./ral\");\nvar MessageFormat;\n(function (MessageFormat) {\n    MessageFormat[\"file\"] = \"file\";\n    MessageFormat[\"bundle\"] = \"bundle\";\n    MessageFormat[\"both\"] = \"both\";\n})(MessageFormat = exports.MessageFormat || (exports.MessageFormat = {}));\nvar BundleFormat;\n(function (BundleFormat) {\n    // the nls.bundle format\n    BundleFormat[\"standalone\"] = \"standalone\";\n    BundleFormat[\"languagePack\"] = \"languagePack\";\n})(BundleFormat = exports.BundleFormat || (exports.BundleFormat = {}));\nvar LocalizeInfo;\n(function (LocalizeInfo) {\n    function is(value) {\n        var candidate = value;\n        return candidate && isDefined(candidate.key) && isDefined(candidate.comment);\n    }\n    LocalizeInfo.is = is;\n})(LocalizeInfo || (LocalizeInfo = {}));\nfunction isDefined(value) {\n    return typeof value !== 'undefined';\n}\nexports.isDefined = isDefined;\nexports.isPseudo = false;\nfunction setPseudo(pseudo) {\n    exports.isPseudo = pseudo;\n}\nexports.setPseudo = setPseudo;\nfunction format(message, args) {\n    var result;\n    if (exports.isPseudo) {\n        // FF3B and FF3D is the Unicode zenkaku representation for [ and ]\n        message = '\\uFF3B' + message.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\n    }\n    if (args.length === 0) {\n        result = message;\n    }\n    else {\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\n            var index = rest[0];\n            var arg = args[index];\n            var replacement = match;\n            if (typeof arg === 'string') {\n                replacement = arg;\n            }\n            else if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\n                replacement = String(arg);\n            }\n            return replacement;\n        });\n    }\n    return result;\n}\nexports.format = format;\nfunction localize(_key, message) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return format(message, args);\n}\nexports.localize = localize;\nfunction loadMessageBundle(file) {\n    return ral_1.default().loadMessageBundle(file);\n}\nexports.loadMessageBundle = loadMessageBundle;\nfunction config(opts) {\n    return ral_1.default().config(opts);\n}\nexports.config = config;\n//# sourceMappingURL=common.js.map",null,"module.exports = require(\"vscode\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.config = exports.loadMessageBundle = void 0;\nvar path = require(\"path\");\nvar fs = require(\"fs\");\nvar ral_1 = require(\"../common/ral\");\nvar common_1 = require(\"../common/common\");\nvar common_2 = require(\"../common/common\");\nObject.defineProperty(exports, \"MessageFormat\", { enumerable: true, get: function () { return common_2.MessageFormat; } });\nObject.defineProperty(exports, \"BundleFormat\", { enumerable: true, get: function () { return common_2.BundleFormat; } });\nvar toString = Object.prototype.toString;\nfunction isNumber(value) {\n    return toString.call(value) === '[object Number]';\n}\nfunction isString(value) {\n    return toString.call(value) === '[object String]';\n}\nfunction isBoolean(value) {\n    return value === true || value === false;\n}\nfunction readJsonFileSync(filename) {\n    return JSON.parse(fs.readFileSync(filename, 'utf8'));\n}\nvar resolvedBundles;\nvar options;\nfunction initializeSettings() {\n    options = { locale: undefined, language: undefined, languagePackSupport: false, cacheLanguageResolution: true, messageFormat: common_1.MessageFormat.bundle };\n    if (isString(process.env.VSCODE_NLS_CONFIG)) {\n        try {\n            var vscodeOptions_1 = JSON.parse(process.env.VSCODE_NLS_CONFIG);\n            var language = void 0;\n            if (vscodeOptions_1.availableLanguages) {\n                var value = vscodeOptions_1.availableLanguages['*'];\n                if (isString(value)) {\n                    language = value;\n                }\n            }\n            if (isString(vscodeOptions_1.locale)) {\n                options.locale = vscodeOptions_1.locale.toLowerCase();\n            }\n            if (language === undefined) {\n                options.language = options.locale;\n            }\n            else if (language !== 'en') {\n                options.language = language;\n            }\n            if (isBoolean(vscodeOptions_1._languagePackSupport)) {\n                options.languagePackSupport = vscodeOptions_1._languagePackSupport;\n            }\n            if (isString(vscodeOptions_1._cacheRoot)) {\n                options.cacheRoot = vscodeOptions_1._cacheRoot;\n            }\n            if (isString(vscodeOptions_1._languagePackId)) {\n                options.languagePackId = vscodeOptions_1._languagePackId;\n            }\n            if (isString(vscodeOptions_1._translationsConfigFile)) {\n                options.translationsConfigFile = vscodeOptions_1._translationsConfigFile;\n                try {\n                    options.translationsConfig = readJsonFileSync(options.translationsConfigFile);\n                }\n                catch (error) {\n                    // We can't read the translation config file. Mark the cache as corrupted.\n                    if (vscodeOptions_1._corruptedFile) {\n                        var dirname = path.dirname(vscodeOptions_1._corruptedFile);\n                        fs.exists(dirname, function (exists) {\n                            if (exists) {\n                                fs.writeFile(vscodeOptions_1._corruptedFile, 'corrupted', 'utf8', function (err) {\n                                    console.error(err);\n                                });\n                            }\n                        });\n                    }\n                }\n            }\n        }\n        catch (_a) {\n            // Do nothing.\n        }\n    }\n    common_1.setPseudo(options.locale === 'pseudo');\n    resolvedBundles = Object.create(null);\n}\ninitializeSettings();\nfunction supportsLanguagePack() {\n    return options.languagePackSupport === true && options.cacheRoot !== undefined && options.languagePackId !== undefined && options.translationsConfigFile !== undefined\n        && options.translationsConfig !== undefined;\n}\nfunction createScopedLocalizeFunction(messages) {\n    return function (key, message) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        if (isNumber(key)) {\n            if (key >= messages.length) {\n                console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \" + new Error('').stack);\n                return;\n            }\n            return common_1.format(messages[key], args);\n        }\n        else {\n            if (isString(message)) {\n                console.warn(\"Message \" + message + \" didn't get externalized correctly.\");\n                return common_1.format(message, args);\n            }\n            else {\n                console.error(\"Broken localize call found. Stacktrace is\\n: \" + new Error('').stack);\n            }\n        }\n    };\n}\nfunction resolveLanguage(file) {\n    var resolvedLanguage;\n    if (options.cacheLanguageResolution && resolvedLanguage) {\n        resolvedLanguage = resolvedLanguage;\n    }\n    else {\n        if (common_1.isPseudo || !options.language) {\n            resolvedLanguage = '.nls.json';\n        }\n        else {\n            var locale = options.language;\n            while (locale) {\n                var candidate = '.nls.' + locale + '.json';\n                if (fs.existsSync(file + candidate)) {\n                    resolvedLanguage = candidate;\n                    break;\n                }\n                else {\n                    var index = locale.lastIndexOf('-');\n                    if (index > 0) {\n                        locale = locale.substring(0, index);\n                    }\n                    else {\n                        resolvedLanguage = '.nls.json';\n                        locale = null;\n                    }\n                }\n            }\n        }\n        if (options.cacheLanguageResolution) {\n            resolvedLanguage = resolvedLanguage;\n        }\n    }\n    return file + resolvedLanguage;\n}\nfunction findInTheBoxBundle(root) {\n    var language = options.language;\n    while (language) {\n        var candidate = path.join(root, \"nls.bundle.\" + language + \".json\");\n        if (fs.existsSync(candidate)) {\n            return candidate;\n        }\n        else {\n            var index = language.lastIndexOf('-');\n            if (index > 0) {\n                language = language.substring(0, index);\n            }\n            else {\n                language = undefined;\n            }\n        }\n    }\n    // Test if we can reslove the default bundle.\n    if (language === undefined) {\n        var candidate = path.join(root, 'nls.bundle.json');\n        if (fs.existsSync(candidate)) {\n            return candidate;\n        }\n    }\n    return undefined;\n}\nfunction mkdir(directory) {\n    try {\n        fs.mkdirSync(directory);\n    }\n    catch (err) {\n        if (err.code === 'EEXIST') {\n            return;\n        }\n        else if (err.code === 'ENOENT') {\n            var parent = path.dirname(directory);\n            if (parent !== directory) {\n                mkdir(parent);\n                fs.mkdirSync(directory);\n            }\n        }\n        else {\n            throw err;\n        }\n    }\n}\nfunction createDefaultNlsBundle(folder) {\n    var metaData = readJsonFileSync(path.join(folder, 'nls.metadata.json'));\n    var result = Object.create(null);\n    for (var module_1 in metaData) {\n        var entry = metaData[module_1];\n        result[module_1] = entry.messages;\n    }\n    return result;\n}\nfunction createNLSBundle(header, metaDataPath) {\n    var languagePackLocation = options.translationsConfig[header.id];\n    if (!languagePackLocation) {\n        return undefined;\n    }\n    var languagePack = readJsonFileSync(languagePackLocation).contents;\n    var metaData = readJsonFileSync(path.join(metaDataPath, 'nls.metadata.json'));\n    var result = Object.create(null);\n    for (var module_2 in metaData) {\n        var entry = metaData[module_2];\n        var translations = languagePack[header.outDir + \"/\" + module_2];\n        if (translations) {\n            var resultMessages = [];\n            for (var i = 0; i < entry.keys.length; i++) {\n                var messageKey = entry.keys[i];\n                var key = isString(messageKey) ? messageKey : messageKey.key;\n                var translatedMessage = translations[key];\n                if (translatedMessage === undefined) {\n                    translatedMessage = entry.messages[i];\n                }\n                resultMessages.push(translatedMessage);\n            }\n            result[module_2] = resultMessages;\n        }\n        else {\n            result[module_2] = entry.messages;\n        }\n    }\n    return result;\n}\nfunction touch(file) {\n    var d = new Date();\n    fs.utimes(file, d, d, function () {\n        // Do nothing. Ignore\n    });\n}\nfunction cacheBundle(key, bundle) {\n    resolvedBundles[key] = bundle;\n    return bundle;\n}\nfunction loadNlsBundleOrCreateFromI18n(header, bundlePath) {\n    var result;\n    var bundle = path.join(options.cacheRoot, header.id + \"-\" + header.hash + \".json\");\n    var useMemoryOnly = false;\n    var writeBundle = false;\n    try {\n        result = JSON.parse(fs.readFileSync(bundle, { encoding: 'utf8', flag: 'r' }));\n        touch(bundle);\n        return result;\n    }\n    catch (err) {\n        if (err.code === 'ENOENT') {\n            writeBundle = true;\n        }\n        else if (err instanceof SyntaxError) {\n            // We have a syntax error. So no valid JSON. Use\n            console.log(\"Syntax error parsing message bundle: \" + err.message + \".\");\n            fs.unlink(bundle, function (err) {\n                if (err) {\n                    console.error(\"Deleting corrupted bundle \" + bundle + \" failed.\");\n                }\n            });\n            useMemoryOnly = true;\n        }\n        else {\n            throw err;\n        }\n    }\n    result = createNLSBundle(header, bundlePath);\n    if (!result || useMemoryOnly) {\n        return result;\n    }\n    if (writeBundle) {\n        try {\n            fs.writeFileSync(bundle, JSON.stringify(result), { encoding: 'utf8', flag: 'wx' });\n        }\n        catch (err) {\n            if (err.code === 'EEXIST') {\n                return result;\n            }\n            throw err;\n        }\n    }\n    return result;\n}\nfunction loadDefaultNlsBundle(bundlePath) {\n    try {\n        return createDefaultNlsBundle(bundlePath);\n    }\n    catch (err) {\n        console.log(\"Generating default bundle from meta data failed.\", err);\n        return undefined;\n    }\n}\nfunction loadNlsBundle(header, bundlePath) {\n    var result;\n    // Core decided to use a language pack. Do the same in the extension\n    if (supportsLanguagePack()) {\n        try {\n            result = loadNlsBundleOrCreateFromI18n(header, bundlePath);\n        }\n        catch (err) {\n            console.log(\"Load or create bundle failed \", err);\n        }\n    }\n    if (!result) {\n        // No language pack found, but core is running in language pack mode\n        // Don't try to use old in the box bundles since the might be stale\n        // Fall right back to the default bundle.\n        if (options.languagePackSupport) {\n            return loadDefaultNlsBundle(bundlePath);\n        }\n        var candidate = findInTheBoxBundle(bundlePath);\n        if (candidate) {\n            try {\n                return readJsonFileSync(candidate);\n            }\n            catch (err) {\n                console.log(\"Loading in the box message bundle failed.\", err);\n            }\n        }\n        result = loadDefaultNlsBundle(bundlePath);\n    }\n    return result;\n}\nfunction tryFindMetaDataHeaderFile(file) {\n    var result;\n    var dirname = path.dirname(file);\n    while (true) {\n        result = path.join(dirname, 'nls.metadata.header.json');\n        if (fs.existsSync(result)) {\n            break;\n        }\n        var parent = path.dirname(dirname);\n        if (parent === dirname) {\n            result = undefined;\n            break;\n        }\n        else {\n            dirname = parent;\n        }\n    }\n    return result;\n}\nfunction loadMessageBundle(file) {\n    if (!file) {\n        // No file. We are in dev mode. Return the default\n        // localize function.\n        return common_1.localize;\n    }\n    // Remove extension since we load json files.\n    var ext = path.extname(file);\n    if (ext) {\n        file = file.substr(0, file.length - ext.length);\n    }\n    if (options.messageFormat === common_1.MessageFormat.both || options.messageFormat === common_1.MessageFormat.bundle) {\n        var headerFile = tryFindMetaDataHeaderFile(file);\n        if (headerFile) {\n            var bundlePath = path.dirname(headerFile);\n            var bundle = resolvedBundles[bundlePath];\n            if (bundle === undefined) {\n                try {\n                    var header = JSON.parse(fs.readFileSync(headerFile, 'utf8'));\n                    try {\n                        var nlsBundle = loadNlsBundle(header, bundlePath);\n                        bundle = cacheBundle(bundlePath, nlsBundle ? { header: header, nlsBundle: nlsBundle } : null);\n                    }\n                    catch (err) {\n                        console.error('Failed to load nls bundle', err);\n                        bundle = cacheBundle(bundlePath, null);\n                    }\n                }\n                catch (err) {\n                    console.error('Failed to read header file', err);\n                    bundle = cacheBundle(bundlePath, null);\n                }\n            }\n            if (bundle) {\n                var module_3 = file.substr(bundlePath.length + 1).replace(/\\\\/g, '/');\n                var messages = bundle.nlsBundle[module_3];\n                if (messages === undefined) {\n                    console.error(\"Messages for file \" + file + \" not found. See console for details.\");\n                    return function () {\n                        return 'Messages not found.';\n                    };\n                }\n                return createScopedLocalizeFunction(messages);\n            }\n        }\n    }\n    if (options.messageFormat === common_1.MessageFormat.both || options.messageFormat === common_1.MessageFormat.file) {\n        // Try to load a single file bundle\n        try {\n            var json = readJsonFileSync(resolveLanguage(file));\n            if (Array.isArray(json)) {\n                return createScopedLocalizeFunction(json);\n            }\n            else {\n                if (common_1.isDefined(json.messages) && common_1.isDefined(json.keys)) {\n                    return createScopedLocalizeFunction(json.messages);\n                }\n                else {\n                    console.error(\"String bundle '\" + file + \"' uses an unsupported format.\");\n                    return function () {\n                        return 'File bundle has unsupported format. See console for details';\n                    };\n                }\n            }\n        }\n        catch (err) {\n            if (err.code !== 'ENOENT') {\n                console.error('Failed to load single file bundle', err);\n            }\n        }\n    }\n    console.error(\"Failed to load message bundle for file \" + file);\n    return function () {\n        return 'Failed to load message bundle. See console for details.';\n    };\n}\nexports.loadMessageBundle = loadMessageBundle;\nfunction config(opts) {\n    if (opts) {\n        if (isString(opts.locale)) {\n            options.locale = opts.locale.toLowerCase();\n            options.language = options.locale;\n            resolvedBundles = Object.create(null);\n        }\n        if (opts.messageFormat !== undefined) {\n            options.messageFormat = opts.messageFormat;\n        }\n        if (opts.bundleFormat === common_1.BundleFormat.standalone && options.languagePackSupport === true) {\n            options.languagePackSupport = false;\n        }\n    }\n    common_1.setPseudo(options.locale === 'pseudo');\n    return loadMessageBundle;\n}\nexports.config = config;\nral_1.default.install(Object.freeze({\n    loadMessageBundle: loadMessageBundle,\n    config: config\n}));\n//# sourceMappingURL=main.js.map","module.exports = require(\"fs\");"],"sourceRoot":""}